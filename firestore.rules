rules_version = '2';
service cloud.firestore {
match /databases/{database}/documents {
// Ye rules chat messages aur user data ko allow karti hain.
// Dhyan rakhein ki 'users' collection ko 'private' store kiya gaya hai.

// User data (private)
match /artifacts/{appId}/users/{userId}/{document=**} {
  allow read, write: if request.auth.uid != null;
}

// Public chat data (jahan sabhi users messages bhejenge)
match /artifacts/{appId}/public/data/messages/{document=**} {
  // Har authenticated user read aur write kar sakta hai
  allow read, write: if request.auth.uid != null;
}

// Default fallback rule (agar koi match na ho)
match /{document=**} {
  allow read, write: if false; // Baaki sab ko block kar do
}


}
}